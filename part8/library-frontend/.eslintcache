[{"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/index.js":"1","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/App.js":"2","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/Books.js":"3","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/Authors.js":"4","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/NewBook.js":"5","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/queries.js":"6","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/SetBirthYear.js":"7","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/LoginForm.js":"8"},{"size":741,"mtime":1607285579633,"results":"9","hashOfConfig":"10"},{"size":1305,"mtime":1607286582832,"results":"11","hashOfConfig":"10"},{"size":711,"mtime":1607284880040,"results":"12","hashOfConfig":"10"},{"size":858,"mtime":1607277829297,"results":"13","hashOfConfig":"10"},{"size":2252,"mtime":1607287792402,"results":"14","hashOfConfig":"10"},{"size":1003,"mtime":1607286165435,"results":"15","hashOfConfig":"10"},{"size":1316,"mtime":1607278483410,"results":"16","hashOfConfig":"10"},{"size":1438,"mtime":1607284975401,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1pq3p2j",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/index.js",[],["37","38"],"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/App.js",[],"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/Books.js",[],"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/Authors.js",[],"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/NewBook.js",["39"],"import React, { useState } from 'react'\nimport { useMutation } from '@apollo/client'\nimport { ADD_BOOK, ALL_AUTHORS, ALL_BOOKS } from '../queries'\n\nconst NewBook = (props) => {\n  const [title, setTitle] = useState('')\n  const [author, setAuhtor] = useState('')\n  const [publish, setPublished] = useState('')\n  const [genre, setGenre] = useState('')\n  const [genres, setGenres] = useState([])\n\n  const [createBook] = useMutation(ADD_BOOK, {\n    // refetchQueries: [{ query: ALL_AUTHORS }],\n    onError: (error) => {\n      console.log(error)\n    },\n    update: (store, response) => {\n      const dataInStore = store.readQuery({ query: ALL_BOOKS })\n      store.writeQuery({\n        query: ALL_BOOKS,\n        data: {\n          ...dataInStore,\n          allBooks: [...dataInStore.allBooks, response.data.addBook],\n        },\n      })\n    },\n  })\n  if (!props.show) {\n    return null\n  }\n\n  const submit = async (event) => {\n    event.preventDefault()\n\n    console.log('add book...')\n\n    let published = parseInt(publish)\n\n    createBook({\n      variables: { title, author, published, genres },\n    })\n\n    setTitle('')\n    setPublished('')\n    setAuhtor('')\n    setGenres([])\n    setGenre('')\n  }\n\n  const addGenre = () => {\n    setGenres(genres.concat(genre))\n    setGenre('')\n  }\n\n  return (\n    <div>\n      <form onSubmit={submit}>\n        <div>\n          title\n          <input\n            value={title}\n            onChange={({ target }) => setTitle(target.value)}\n          />\n        </div>\n        <div>\n          author\n          <input\n            value={author}\n            onChange={({ target }) => setAuhtor(target.value)}\n          />\n        </div>\n        <div>\n          published\n          <input\n            type=\"number\"\n            value={publish}\n            onChange={({ target }) => setPublished(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            value={genre}\n            onChange={({ target }) => setGenre(target.value)}\n          />\n          <button onClick={addGenre} type=\"button\">\n            add genre\n          </button>\n        </div>\n        <div>genres: {genres.join(' ')}</div>\n        <button type=\"submit\">create book</button>\n      </form>\n    </div>\n  )\n}\n\nexport default NewBook\n","/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/queries.js",[],"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/SetBirthYear.js",[],["40","41"],"/Users/Akashkola/Documents/Web-projects/fullstack-Helsinki/fullstack-submissions/part8/library-frontend/src/components/LoginForm.js",[],{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","severity":1,"message":"47","line":3,"column":20,"nodeType":"48","messageId":"49","endLine":3,"endColumn":31},{"ruleId":"42","replacedBy":"50"},{"ruleId":"44","replacedBy":"51"},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"no-unused-vars","'ALL_AUTHORS' is defined but never used.","Identifier","unusedVar",["52"],["53"],"no-global-assign","no-unsafe-negation"]